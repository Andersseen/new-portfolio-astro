---
import { t } from '@i18n/utils';
import { getLanguageFromPath } from '@i18n/config';
import PortfolioGrid from './PortfolioGrid';
import PortfolioHeader from '@componentes/PortfolioHeader.astro';

const lang = getLanguageFromPath(Astro.url.pathname);
const tr = (key: string) => t(lang, key);

import type { PortfolioItem } from './PortfolioGrid';

import ModalManager from './ModalManager';

import { getPortfolioItems } from '../data/portfolio';

// Generate items using the translator function
const items: PortfolioItem[] = getPortfolioItems(tr);
---

<section class="py-16 px-4 max-w-7xl mx-auto">
  <PortfolioGrid client:load initialItems={items} />
  <ModalManager client:idle />
</section>
